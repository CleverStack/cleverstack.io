---
layout: default
title: Documentation
slug: documentation
lead: "Indepth guides to CleverStack covering installation, configuration, usage and extending."
---

  <!-- Overview
  ================================================== -->
  <div class="bs-docs-section">
    <div class="page-header">
      <h1 id="overview">Overview</h1>
    </div>
    <p class="lead">Developers all over the world for years have been striving to be able to create smarter, smaller, easier to manage, faster to develop, re-usable chunks of code that are as modular as possible without sacrificing code quality or developer sanity.</p>

    <p>CleverStack set out to accomplish this and create the worlds first Modular Full Stack JS Framework, with the Architecture designed by <a href="https://github.com/pilsy">Richard Gustin</a> and his role as Lead working with a <a href="/about/#team">group of highly skilled developers</a> we believe that we accomplished this task.</p>

    <p>What this mean's for you is, you are able to create smaller, more specific modules that are extremely powerful, completely self contained and can be used between many projects. If you believe your module is useful you can publish your module to the CleverStack EcoSystem through NPM (Backend) or Bower (Frontend).</p>
  </div>

  <!-- CLI
  ================================================== -->
  <div class="bs-docs-section">
    <div class="page-header">
      <h1 id="cli">CleverStack CLI</h1>
    </div>
    <p class="lead">CleverStack provides a fully featured Command Line Interface that does everything you will need in your Software Development Lifecycle</p>

    <!-- Overview
    ================================================== -->
    <h3 id="cli-overview">Overview</h3>
    <p>Our Command Line Interface was designed using our Modular Architecture, so that applications could take advantage of modules are that are created by our Core team, and for modules created and published to our Open Source EcoSystem by anyone in the Open Source Community.</p>

    <!-- Prerequisites
    ================================================== -->
    <h3 id="cli-prerequisites">Prerequisites</h3>
    <p>The CLI has a few packages it depends on that cannot be defined inside of it's package.json, you have to install these before you can install or use the Command Line Interface.</p><br>

    <div style="padding-left: 20px;">
      <h4 id="cli-prerequisites-node">Node and it's package manager, NPM.</h4>
      <p>
        <a href="http://nodejs.org">Node.js</a> is a platform built on <a href="https://code.google.com/p/v8/">Chrome's JavaScript runtime</a> for easily building fast, scalable network applications. Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient, perfect for data-intensive real-time applications that run across distributed devices. <a href="http://nodejs.org/download/">Download now</a>
      </p><br>

      <h4 id="cli-prerequisites-bower">Bower</h4>
      <p>
        <a href="http://bower.io/">Bower</a> is a package manager for the web made by Twitter. It offers a generic, unopinionated solution to the problem of front-end package management, while exposing the package dependency model via an API that can be consumed by a more opinionated build stack. There are no system wide dependencies, no dependencies are shared between different Applications, and the dependency tree is flat.
      </p>
{% highlight bash %}
# install bower using npm
$ npm i -g bower
{% endhighlight %}<br>

      <h4 id="cli-prerequisites-grunt">Grunt</h4>
      <p>
        <a href="http://gruntjs.com/">Grunt</a> is a Task Runner for <a href="http://nodejs.org">Node.js</a>, with literally hundreds of plugins to choose from, you can use Grunt to automate just about anything with a minimum of effort. If someone hasn't already built what you need, authoring and publishing your own Grunt plugin to npm is a breeze.
      </p>
{% highlight bash %}# install grunt using npm
$ npm i -g grunt-cli {% endhighlight %}
    </div>

    <!-- Installation
    ================================================== -->
    <h3 id="cli-installation">Installation</h3>
    <p>Install the CleverStack Command Line Interface (CLI).</p>
    {% highlight bash %}$ npm install -g cleverstack-cli{% endhighlight %}

    <p><strong>Important:</strong> Linux or Mac users may need to run this command using "sudo"</p>
      {% highlight bash %}$ sudo npm install -g cleverstack-cli{% endhighlight %}

    <!-- Commands
    ================================================== -->
    <h3 id="cli-commands">Commands</h3>
    <p>Coming soon, we are working hard on this section.</p><br>

    <!-- <div style="padding-left: 20px;">
      <h4 id="cli-commands-build">Build</h4>
      <h4 id="cli-commands-downgrade">Downgrade</h4>
      <h4 id="cli-commands-init">Init</h4>
      <h4 id="cli-commands-install">Install</h4>
      <h4 id="cli-commands-generate">Generate</h4>
      <h4 id="cli-commands-list">List</h4>
      <h4 id="cli-commands-new">New</h4>
      <h4 id="cli-commands-remove">Remove</h4>
      <h4 id="cli-commands-repl">Repl</h4>
      <h4 id="cli-commands-routes">Routes</h4>
      <h4 id="cli-commands-scaffold">Scaffold</h4>
      <h4 id="cli-commands-search">Search</h4>
      <h4 id="cli-commands-setup">Setup</h4>
      <h4 id="cli-commands-server">Server</h4>
      <h4 id="cli-commands-test">Test</h4>
      <h4 id="cli-commands-upgrade">Upgrade</h4>
    </div> -->

    <!-- Modules
    ================================================== -->
    <h3 id="cli-modules">Modules</h3>
    <p>All functionality except what is in the CleverStack Core must be defined inside of modules, because we take advantage of NPM &amp; Bower for our package management it mean's that you can use the thousands of already available packages as Modules for your CleverStack powered Applications.</p><br>

    <div style="padding-left: 20px;">

      <!-- Official Modules
      ================================================== -->
      <h4 id="cli-modules-official">Official Modules</h4>
      <p>We currently have a handful of important Official CleverStack modules available which we list here and update as frequently as possible, however we recommend visiting our <a href="/modules/?frontend=on&backend=on">Modules</a> page to get the full and upto date list of modules.</p><br>
      
      <div style="padding-left: 30px;">
        <h5 id="cli-modules-official-orm"><a href="https://github.com/CleverStack/clever-orm">Object Relational Mapper (ORM)</a></h5>
        <p>This module deeply integrates <a href="https://github.com/sequelize/sequelize">SequelizeJS</a> into CleverStack, to provide an out of the box <a href="http://en.wikipedia.org/wiki/Object-relational_mapping">Object Relational Mapper</a> which is widely accepted, widely used, full featured and mature SQL Solution for CleverStack.</p>
        {% highlight javascript %}$ clever install clever-orm{% endhighlight %}<br>

        <h5 id="cli-modules-official-odm"><a href="https://github.com/CleverStack/clever-odm">Object Document Mapper (ODM)</a></h5>
        <p>This module deeply integrates <a href="http://mongoosejs.com/">MongooseJS</a> into CleverStack, to provide an out of the box Object Document Mapper, which is a primarily MongoDB based <a href="http://en.wikipedia.org/wiki/NoSQL">NoSQL</a> solution to storing data.</p>
        {% highlight javascript %}$ clever install clever-odm{% endhighlight %}<br>

        <h5 id="cli-modules-official-background-tasks"><a href="https://github.com/CleverStack/clever-background-tasks">Background Tasks</a></h5>
        <p>This module allows you to define tasks that will be run in the background a separate dedicated process, by providing master-slave locking this module also allows you to never have to use CRON files ever again; Simply define your task as masterOnly and it will only run on the Master server ensuring its execution does not overlap (even in an elastic cloud configuration with hundreds of servers).</p>

        <p>While NodeJS is designed around being non blocking it is still very possible for any line of code to block any other code running until that line has finished executing, this means that processing CPU intensive operations cannot be done inside any of the Processes that are responding to HTTP Requests (otherwise the user will get no response, because its busy doing some CPU Intensive Operation).</p>
        {% highlight javascript %}$ clever install clever-background-tasks{% endhighlight %}<br>

        <h5 id="cli-modules-official-auth"><a href="https://github.com/CleverStack/clever-auth">Authentication</a></h5>
        <p>This module provides you with a user model, service, migrations and all the code you need to provide a registration, login/logout, forgotten password as well as Google, LinkedIn, Twitter and Facebook social signup &amp; signin. (Both the Frontend and Backend have this module available for installation).</p>
        {% highlight javascript %}$ clever install clever-auth{% endhighlight %}<br>
      </div>

      <!-- Core Modules
      ================================================== -->
      <h4 id="cli-modules-core">Core Modules</h4>
      <p>This is a list of modules that are used in the Core of CleverStack, you do not need to install these (as they are by default). However these modules are designed to work with anything, so if you want to use these components in something other than CleverStack you have that option.</p><br>
      
      <div style="padding-left: 30px;">
        <h5 id="cli-modules-core-controller"><a href="https://github.com/clevertech/clever-controller">Controller</a></h5>
        <p>This module provides Lightning-fast flexible Controller's for CleverStack, the main aim of the controller is to help simplify the most common tasks that you need to do when setting up routes and functions/classes to handle them.</p><br>

        <h5 id="cli-modules-core-di"><a href="https://github.com/CleverStack/clever-injector">Dependency Injector (DI)</a></h5>
        <p>This module provides Dependency Injection for CleverStack, it is non blocking, Lightning-fast, easy to use and flexible.</p><br>
      </div>

      <!-- Using Modules
      ================================================== -->
      <h4 id="cli-modules-using">Using Modules</h4>
      <p>Adding, Removing, Upgrading or Downgrading modules is the same with both the Frontend or Backend seeds. Here is some examples of working with the clever-auth module.</p>

      <h5 id="cli-modules-adding">Adding</h5>
      {% highlight bash %}$ clever install clever-auth{% endhighlight %}

      <h5 id="cli-modules-removing">Removing</h5>
      {% highlight bash %}$ clever remove clever-auth{% endhighlight %}

      <h5 id="cli-modules-upgrading">Upgrading</h5>
      {% highlight bash %}$ clever upgrade clever-auth{% endhighlight %}

      <h5 id="cli-modules-downgrading">Downgrading</h5>
      {% highlight bash %}$ clever downgrade clever-auth{% endhighlight %}

      <p><strong>Note:</strong> You can specify multiple modules in each install, remove, upgrade or downgrade command separated by spaces.</p><br>

      <!-- Finding Modules
      ================================================== -->
      <h4 id="cli-modules-finding">Finding Modules</h4>
      <p>Finding modules is easy, here are some of the ways available</p>

      <ul>
        <li>The <a href="/modules/?frontend=on&backend=on">CleverStack Modules</a> Page.</li>
        <li>The <a href="https://www.npmjs.org/search?q=cleverstack-module">NPM Packages</a> Page, using the keyword "cleverstack-module".</li>
        <li>The <a href="http://bower.io/search/?q=cleverstack-module">Bower Packages</a> Page, using the keyword "cleverstack-module".</li>
        <li>The Command Line
{% highlight bash %}
# Using the CleverStack CLI
$ clever search cleverstack-module

# Using NPM (using the keyword "cleverstack-module")
$ npm search cleverstack-module

# Using Bower (using the keyword "cleverstack-module")
$ bower search cleverstack-module
{% endhighlight %}
        </li>
      </ul><br>

      <!-- Creating Modules
      ================================================== -->
      <h4 id="cli-modules-creating">Creating your own Modules</h4>
      <p>You can develop your own CleverStack modules, here's how you create a module using the CleverStack CLI.</p>
      <ol>
        <li>
          <p>Run the following command:</p>
          {% highlight bash %}$ clever new <my-module>{% endhighlight %}
          <p>This will install and setup a new skeleton module for you.</p>
        </li>
      </ol><br>
      <!-- @TODO change this over to point at each respective area in the documentation -->
      <h5>Example modules:</h5>
      <ul>
        <li><a href="https://github.com/CleverStack/frontend-example-module">Frontend Example Module</a></li>
        <li><a href="https://github.com/CleverStack/backend-example-module">Backend Example Module</a></li>
      </ul>

    </div>

    <!-- Troubleshooting
    ================================================== -->
    <h3 id="cli-troubleshooting">Troubleshooting</h3>
    <p>If you have any problems (including errors, exceptions and even general usage) with the CleverStack CLI.</p>
    <ul>
      <li>Check the Github <a href="https://github.com/cleverstack/cleverstack-cli/issues">issues page</a>.</li>
      <li>Log into the public access <a href="https://www.hipchat.com/gwM43u4Mw">HipChat Room</a> and ask for help.</li>
      <li>If your still having problems, please <a href="https://github.com/CleverStack/cleverstack-cli/issues/new">raise an issue</a>.</li>
    </ul>

    <!-- Contributing
    ================================================== -->
    <h3 id="cli-contributing">Contributing</h3>
    <p>Firstly please read our <a href="https://github.com/CleverStack/cleverstack-cli/blob/master/CONTRIBUTING.md">guidelines for contributing</a>, Then fork the <a href="https://github.com/CleverStack/cleverstack-cli">CleverStack CLI</a> github repo, once you are ready please submit a "Pull Request" for review.</p>

  </div>


  <!-- Back-end (NodeJS)
  ================================================== -->
  <div class="bs-docs-section">
    <div class="page-header">
      <h1 id="backend">Back-end (NodeJS)</h1>
    </div>

    <!-- Overview
    ================================================== -->
    <p id="backend-overview" class="lead">CleverStack provides a fully featured NodeJS development workflow.</p>
    <p>Some highlights:</p>
    <ul>
      <li><a href="http://nodejs.org/">NodeJS</a> Async Non-Blocking Core.</li>
      <li>Modular Coding Structure based on <a href="https://www.npmjs.org">NPM</a>.</li>
      <li><a href="http://gruntjs.com/">Grunt</a> powered tasks, including Server with Live Restart using <a href="https://www.npmjs.org/package/nodemon">nodemon.</a></li>
      <li>Databases supported: <a href="http://www.mysql.com/">MySQL</a>, <a href="http://www.postgresql.org/">PostgreSQL</a>, <a href="http://www.sqlite.org/">SQLite</a> or <a href="http://www.mongodb.org/">MongoDB</a>.</li>
      <li>Official ORM (<a href="http://en.wikipedia.org/wiki/Object-relational_mapping">Object Relational Mapper</a>) Module provides an enterprise <a href="http://en.wikipedia.org/wiki/SQL">SQL</a>  based solution out of the box.</li>
      <li>Official ODM (<a href="http://css.dzone.com/articles/era-object-document-mapping">Object Document Mapper</a>) Module provides an enterprise <a href="http://en.wikipedia.org/wiki/NoSQL">NoSQL</a> based solution out of the box.</li>
      <li><a href="http://nodejs.org/api/cluster.html">Clustered</a> application with high <a href="http://en.wikipedia.org/wiki/Concurrency_(computer_science)">Concurrency</a> out of the box.</li>
      <li>NodeJS <a href="https://github.com/CleverStack/clever-background-tasks">Background Tasks Module</a> which allows CPU intensive (blocking) operations to take place in separate processes, allowing your HTTP Web Server Processes to continue serving HTTP Requests.</li>
      <li>Unit &amp; E2E (Integration) Testing with <a href="https://www.npmjs.org/package/mocha">Mocha</a> and <a href="https://www.npmjs.org/package/request">Request</a>.</li>
    </ul>

    <!-- Structure
    ================================================== -->
    <h3 id="backend-structure">Structure</h3>

{% highlight bash %}
back-end/
├── config/           # app configs
├── lib/              # cleverstack core
├── modules/          # backend modules
├── tests/            # app & cleverstack core tests
│   ├── e2e/          # end to end tests
│   └── unit/         # unit tests
├── Gruntfile.js      # app grunt config & tasks
├── app.js            # node cluster app
├── index.js          # single node http server app
└── package.json      # npm dependencies and package information
{% endhighlight %}<br>
    
    <!-- Important files and folders
    ================================================== -->
    <div style="padding-left: 20px;">
      <h4>Important files and folders</h4>
      <p>Here is a list of things you need to know about the structure of the CleverStack NodeJS Backend, called the <a href="https://github.com/CleverStack/Node-Seed">Node Seed</a>.</p><br>

      <h5><a href="https://github.com/CleverStack/Node-Seed/tree/master/config">/config</a></h5>
      <ul>
          <li>This is where you define all of your configuration files like your global.json and for each of your environments (default is local, dev, stag, prod), see <a href="#backend-configuration">Configuration</a> for more information.
      </ul>

      <h5><a href="https://github.com/CleverStack/Node-Seed/tree/master/lib">/lib</a></h5>
      <ul>
          <li>This is where the Cleverstack Core is kept, we recommended not modifying anything in this this folder unless you know what you are doing.</li><br>

          <li><strong>Important:</strong> If you do modify files in this folder, then using CleverStack CLI commands like upgrade or downgrade may remove your changes.</li>
          <li><strong>Note:</strong> Certain folders files are either loaded via special functions as defined in modules and some are loaded using injector.inject()</li>
      </ul>

      <h5><a href="https://github.com/CleverStack/Node-Seed/tree/master/modules">/modules</a></h5>
      <ul>
          <li>This is where all of the Cleverstack modules will be installed into your application.</li>
          <li>You also add custom modules inside this folder, either by creating it manually or using the CleverStack CLI's install, generate or scaffold commands.</li><br>
          <li><strong>Note:</strong> You can place any NPM module inside this directory, however to take advantage of the true power &amp; flexibility you will need to add and change some key points. (See the <a href="https://github.com/CleverStack/backend-example-module">Backend Example Module</a> for an example of how to create a cleverstack enhanced module.)</li>
      </ul>

      <h5><a href="https://github.com/CleverStack/Node-Seed/tree/master/app.js">/app.js</a></h5>
      <ul>
          <li>The main entry point of a "Clustered" Application, in most cases you will not need to modify this file.</li><br>
          <li><strong>Important:</strong> There is one main hook provided in this file, if you place a file named app.js inside the bin folder of any module it will be loaded and run before the index.js file is executed, (Example: If the background-tasks module is installed and enabled, this type of hook will setup the background task process.)</li>
      </ul>

      <h5><a href="https://github.com/CleverStack/Node-Seed/tree/master/Gruntfile.js">/Gruntfile.js</a></h5>
      <ul>
          <li>Defines the Applications global (main) gruntConfig.</li>
          <li>Registers the Applications included Grunt tasks.</li><br>
          <li><strong>Note:</strong> Each module's Gruntfile.js config is deep merged into this files main grunt config before registering any tasks with grunt, which gives you the power to both add grunt tasks and modify the gruntConfig inside each module.</li>
      </ul>

      <h5><a href="https://github.com/CleverStack/Node-Seed/tree/master/index.js">/index.js</a></h5>
      <ul>
          <li>This files main use is the entry point of each HTTP Web Serving child process within the "Clustered" environment that app.js provides.</li>
          <li>You can use this script to spawn a single processed Application, useful for debugging with node-inspector so it will attached to the process by using --debug-brk.</li><br>
          <li><strong>Note:</strong> To run this file on its own you will need to manually set your NODE_PATH for this script to work.</li>
      </ul>

      <h5><a href="https://github.com/CleverStack/Node-Seed/tree/master/package.json">/package.json</a></h5>
      <ul>
          <li>Defines the Application and it's information, scripts and NPM dependencies just like every other NPM Module.</li><br>
          <li><strong>Important:</strong> This is where you define which Modules are enabled, using the <a href="https://www.npmjs.org/doc/json.html">bundledDependencies[]</a> array.</li>
          <li><strong>Note:</strong> By adding modules into the <a href="https://www.npmjs.org/doc/json.html">bundledDependencies[]</a> array, you are also letting NPM know that these dependencies are local and not on the NPM Registry, meaning NPM will never search or download those modules from the internet.</li>
          <li><strong>Note:</strong> The order in which you place modules inside your <a href="https://www.npmjs.org/doc/json.html">bundledDependencies[]</a> array will be the loading order of the modules.</li>
      </ul>
    </div>

    <!-- Configuration
    ================================================== -->
    <h3 id="backend-configuration">Configuration</h3>
    <p>To make configuration as easy and comprehensive as possible, you are not only able to define a global.json configuration file, you can also define configuration files for each environment regardless of what you call them.</p>

    <p>Each of the following files are loaded and then deep merged into one application config object, in the exact order listed here.</p>
    <ol>
      <li><a href="https://github.com/CleverStack/Node-Seed/tree/master/config/global.json">/config/global.json</a><br>
        <ul>
          <li>Define the global configuration for your application here.</li><br>
          <li><strong>Note:</strong> This file is required, and is the place for any GLOBAL configuration</li>
        </ul>
      </li><br>
      <li>/modules/&lt;module&gt;/config/default.json
        <ul>
          <li>Every modules /config/default.json file will be loaded in the order specified in the <a href="https://www.npmjs.org/doc/json.html">bundledDependencies[]</a> array in your package.json</li><br>
          <li>See <a href="#backend-modules-config-default">&lt;module&gt;/config/default.json</a> for more information</li>
        </ul>
      </li><br>
      <li>/modules/&lt;module&gt;/config/global.json
        <ul>
          <li>Every modules /config/global.json file will be loaded in the order specified in the <a href="https://www.npmjs.org/doc/json.html">bundledDependencies[]</a> array in your package.json</li><br>
          <li>See <a href="#backend-modules-config-global">&lt;module&gt;/config/global.json</a> for more information</li>
        </ul>
      </li><br>
      <li>/config/&lt;NODE_ENV&gt;.json <strong>(environment specific configuration)</strong>
        <ul>
          <li>This allows you to modify or extend the configuration for each environment, regardless of what name you give an environment.</li><br>
          <li><strong>Important:</strong> To take advantage of an environment based configuration file, you need to set an Environment Variable called NODE_ENV to the name you called your environment. (We use NODE_ENV=local for local development)</li>
          <li><strong>Note:</strong> the default environment names are, LOCAL, DEV, STAG and PROD.</li>
          <li><strong>Note:</strong> this configuration file is used to provide the default GLOBAL config for each module.</li>
          <li><strong>This file is not required.</strong></li>
        </ul>
      </li>
    </ol><br>

    <h4>Accessing your config using the 'config' magic module.</h4>
{% highlight javascript %}
var config = require( 'config' );
{% endhighlight %}

    <!-- Modules
    ================================================== -->
    <h3 id="backend-modules">Modules</h3>
    <p>These are the most important part of your application, where all your functionality, dependencies andtesting is defined.</p><br>

    <div style="padding-left: 20px;">

      <!-- Modules structure
      ================================================== -->
      <h4 id="backend-modules-structure">Structure</h4>
        <p>This is a typical back-end (node) module structure.</p>
{% highlight bash %}
example-module/
├── bin/                  # module scripts & binaries
├── classes/              # module classes
├── config/               # module specific configs and setting overrides
├── controllers/          # module controllers
├── exceptions/           # module custom exceptions
├── models/
│   ├── orm/              # your ORM based models (SQL)
│   └── odm/              # your ODM based models (NoSQL)
├── schema/               # your schema is stored in here
│   └── seedData.json/    # seed data is used to populate your database tables
├── services/             # module services
├── tests/
│   ├── e2e/              # module end to end tests
│   └── unit/             # module unit tests
├── utils/                # module utils
├── Gruntfile.js          # module grunt tasks
├── module.js             # main module class
├── package.json          # module npm dependencies
└── routes.js             # module routes
{% endhighlight %}<br>
      <div style="padding-left: 30px;">
        <h4>Important files and folders</h5>

        <h5 id="backend-modules-config-default">config/</h5>
        <ul>
          <li>Like the applications config folder this module config folder allows you to provide configuration on a per module basis.</li>
          <li><a href="#backend-modules-config-default">&lt;module&gt;/config/default.json</a></li>
          <li><a href="#backend-modules-config-global">&lt;module&gt;/config/global.json</a></li><br>
          <li><strong>Important:</strong> Every module's json config files must contain (if they exist on disk) an object that has all configuration objects nested in an object under one key which needs to be named the same as your &lt;module&gt;.</li>
{% highlight json %}
{
  "moduleName": {
    "config": "here",
    "another": "as well"
  }
}
{% endhighlight %}
        </ul>

        <h5>tests/</h5>
        <ul>
            <li>Two folders for testing, e2e/ and unit/</li>
            <li>This allows each module to define it's own tests for the functionality (code) that is provided within each module.</li>
        </ul>

        <h5>package.json</h5>
        <ul>
            <li>Defines the modules basic information including name, version and scripts.</li>
            <li>Defines the modules NPM dependencies.</li>
        </ul>

        <h5>Gruntfile.js</h5>
        <ul>
            <li>A specially formatted Gruntfile which can be used to modify the applications gruntConfig and register grunt tasks.</li>
        </ul>

        <h5>module.js</h5>
        <ul>
{% highlight javascript %}
// Example module.js
var Module = ModuleClass.extend({
    preSetup: function() {
        console.log( 'Hello, this module is about to be setup by the moduleLoader' )
    }
});

module.exports = new Module( '<moduleName>', injector );
{% endhighlight %}
            <li><strong>Important:</strong> This presumes you have { "main": "module.js" } in your modules <a href="https://github.com/CleverStack/backend-example-module/blob/master/package.json#L22">package.json</a>, otherwise it is named what you want OR if not set at all this file will be called index.js. (As per standard NPM Modules)</li>
            <li><strong>Important:</strong> Must export ModuleClass instance which is imported by the moduleLoader.</li>
            <br>
            <li><strong>Note:</strong> Has lifecycle hooks for every situation, like loading, routing, shutdown etc.</li>
        </ul>

        <h5>routes.js</h5>
        <ul>
            <li>This is where you define what routes your module will handle.</li>
        </ul>
      </div><br>


      <!-- Module hooks
      ================================================== -->
      <h4 id="backend-modules-hooks">Hooks</h4>
      <p>Your 'module.js' file has some lifecycle hooks that you can use to perform operations at certain times during the applications lifecycle, the hooks are fired in the order they are listed here on each module.</p><br>

      <p>Example of using a hook:<p>
{% highlight javascript %}
var Module = ModuleClass.extend({
    preInit: function( ) {
        console.log( 'preInit hook, init is about to be called' );
    }
});
{% endhighlight %}<br>

      <p><strong>Important:</strong> Modules hooks are applied to each module in the order you have them listed in your package.json <a href="https://www.npmjs.org/doc/json.html">bundledDependencies[]</a>.</p><br>

      <h5 id="backend-modules-hooks-presetup">preSetup</h5>
      <ul>
        <li>This hook is fired inside the main constructor function setup() how it is called before any setup has actually taken place.</li>
      </ul>

      <h5 id="backend-modules-hooks-preinit">preInit</h5>
      <ul>
        <li>This hook is fired just before init() is called, while init() is not a hook but a method you can override without having to call this._super().</li>
        <li><strong>Important:</strong> This is the last place to hook into until after init.</li>
      </ul>

      <h5 id="backend-modules-hooks-init">init</h5>
      <ul>
        <li>While this is not a hook, you are able to implement this function which forms the final step in the constructor, meaning it can take advantage of the Optimizing Compiler.</li>
      </ul>

      <h5 id="backend-modules-hooks-configure-app">configureApp</h5>
      <ul>
        <li>This hook allows you to modify the express app from within a module, without the need to make those changes in the index.js file located at backend/index.js</li><br>
        <li><strong>Important:</strong> this function is injected with app &amp; express as arguments in the constructors setup() function.</li>
      </ul>
{% highlight javascript %}
var Module = ModuleClass.extend({
    configureApp: function ( app, express ) {
        app.use( express.cookieParser() );
    }
});
{% endhighlight %}

      <h5 id="backend-modules-hooks-preresources">preResources</h5>
      <ul>
        <li>This hook is fired just before the main setup() constructor function calls loadResources().</li>
      </ul>

      <h5 id="backend-modules-hooks-modulesloaded">modulesLoaded</h5>
      <ul>
        <li>This hook is fired after all modules are loaded (for each module).</li>
      </ul>

      <h5 id="backend-modules-hooks-preroute">preRoute</h5>
      <ul>
        <li>This hook is fired just before your routes are attached.</li>
      </ul>

      <h5 id="backend-modules-hooks-preshutdown">preShutdown</h5>
      <ul>
        <li>This hook is fired just before the application shuts down, allowing you to perform any cleanup related tasks.</li>
      </ul><br>

      <!-- Modules configuration
      ================================================== -->
      <h4 id="backend-modules-configuration">Configuration</h4>
      <p>You can easily define the modules configuration with these files</p>
      <h5 id="backend-modules-config-default">config/default.json</h5>
      <ul>
        <li><strong>Note:</strong> This file is used mainly to define the basic structure of configuration for each module, primarily used to "prevent cannot access variable of undefined" errors where code relies on the structure of the configuration object.</li>
        <li><strong>This file is not required.</strong></li>
      </ul>

      <h5 id="backend-modules-config-global">config/global.json</h5>
      <ul>
        <li>This file is used to define the GLOBAL settings for this module</li><br>
        <li><strong>Note:</strong> this configuration file is used to provide the default GLOBAL config for each module.</li>
        <li><strong>This file is not required.</strong></li>
      </ul><br>

      <p><strong>Important:</strong> Each of these JSON config files must contain (if they exist on disk) an object that has all configuration objects nested in an object under one key which needs to be named the same as your &lt;module&gt;.</p>
{% highlight json %}
{
  "moduleName": {
    "config": "here",
    "another": "as well"
  }
}
{% endhighlight %}<br>

      <!-- Modules configuration
      ================================================== -->
      <h4 id="backend-modules-magic">Magic Modules</h4>
      <p>Our NodeJS Backend takes advantage of an NPM feature called the Node Path, by using the environment variable NODE_PATH.</p>
      {% highlight bash %}$ export NODE_PATH=./lib/:./modules/{% endhighlight %}

      <p>Using the Node Path and our magic module utility it gives you the ability to load things, like this</p>
      {% highlight javascript %}$ require( 'controllers' ).ExampleController {% endhighlight %}

      <h5>Here is the complete list of Magic Modules, you can require() any of these anywhere in your application.</h5>
      <ul>
        <li>classes</li>
        <li>config</li>
        <li>controllers</li>
        <li>exceptions</li>
        <li>models</li>
        <li>seedData</li>
        <li>services</li>
        <li>tasks</li>
        <li>utils</li>
      </ul><br>

      <p><strong>Important:</strong> You only need to set your NODE_PATH when you are running index.js, not the main servers or commands.</p><br>

      <!-- Modules Dependency Injection
      ================================================== -->
      <h4 id="backend-modules-di">Dependency Injection</h4>
      <p>CleverStack Controllers, Services, Routes, Models and Tests are loaded and all of their dependencies are loaded and injected automatically using the <a href="https://github.com/cleverstack/clever-injector">CleverStack Dependency Injection</a> module.</p>

      <p>When resources/files are loaded using the injector it will automatically load and inject any of it's dependencies in a recursive manner.</p>

      <p>Simply put the name of the dependency you need in the function exported by the file and it will be loaded and injected for you automatically.</p>
{% highlight javascript %}
module.exports = function( SomeDependency ) {
  // SomeDependency is loaded and injected into this function for you
}
{% endhighlight %}<br>

      <!-- Routing
      ================================================== -->
      <h4 id="backend-modules-routing">Routing</h4>
      <p>Your modules routes.js file is what defines which Controllers are loaded and added into routes, this example shows the default way you should attach your controller</p>
{% highlight javascript %}
// modules/backend-example-module/routes.js
module.exports = function( app, ExampleController ) {

  // Restful and Action based routing
  app.all( '/example/:action/:id?', ExampleController.attach() );
  app.all( '/example/?:action?', ExampleController.attach() );

  // Middleware routing
  app.use( ExampleController.someMiddleware );

}
{% endhighlight %}
      <p><strong>Note:</strong> This will automatically load the ExampleController's dependencies including Services, Models and any other resources.</p>
      <p><strong>Note:</strong> We use ExpressJS as our main web service, so be sure to checkout how to use <a href="http://expressjs.com/api.html#app.VERB">ExpressJS Routes</a></p>

      
      <br>

      <!-- Classes
      ================================================== -->
      <h4 id="backend-modules-classes">Classes</h4>
      <p>Every Controller, Service or Model is extended from a <a href="https://github.com/daffl/uberclass">Class</a>, we do this mainly so we can take advantage of <a href="https://developers.google.com/v8/design">V8's Hidden Classes &amp; Optimizing Compiler</a> but also for the ability to <a href="http://en.wikipedia.org/wiki/Currying">curry</a> functions using the proxy() function.</p>

      <p>By taking advantage of curried proxy functions you are able to keep your code easy to read and maintain by using as little nesting as possible, this also enables and encourages code (function) re-use.</p><br>

      <p>Here is an example of creating a class and using the proxy function</p>
{% highlight javascript %}
var Class = require( 'uberclass' );

module.exports = Class.extend({
files: null,

init: function() {
  this.files = [];
  this.getFiles( __dirname );
},

getFiles: function( dir ) {
  fs.readdir( dir, this.proxy( 'handleGetFiles', dir ) );
},

// The dir variable has been curried into this function by getFiles()
handleGetFiles: function( dir, err, files ) {
  if ( !err ) {
    this.files = files;
  } else {
    console.error( err );
  }
}
});
{% endhighlight %}<br>


      <p><strong>Tip:</strong> Read <a href="http://debuggable.com/posts/understanding-hidden-classes-in-v8:4c7e81e4-1330-4398-8bd2-761bcbdd56cb">Understanding Hidden Classes in V8</a> for an indepth look.</p>
      <p><strong>Tip:</strong> Read <a href="http://en.wikipedia.org/wiki/Currying">Currying</a> on Wikipedia for an in-depth explaination of currying.</p>
      <p><strong>Tip:</strong> Take a look at our <a href="https://github.com/CleverStack/Node-Seed/blob/master/lib/utils/moduleLoader.js">Module Loader Class</a> for an in-depth look at how to use currying to your advantage.</p><br>

      <!-- Controllers
      ================================================== -->
      <h4 id="backend-modules-controllers">Controllers</h4>
      <p>Controllers are the thing that directly responds to each HTTP Request that comes into your application, as such each web request will result in (if routed) a new instance of a Controller.</p>

      <p>Because of Hidden Classes and the Optimizing Compiler in NodeJS this mean's that this is blisteringly fast and allows you access to this.req (Request) and this.res (Response) rather than passing around req &amp; res variables like other solutions.</p>

      <p>To create an action and expose it to the web all you need to do is add "Action" to the end of your function name, we do this so that NOT all of your methods inside your Controller are exposed to the web, only the ones you intend to!</p><br>

      <p>Here is an example that covers all of the many features of Controller</p>
{% highlight javascript %}
// modules/backend-example-module/controllers/ExampleController.js
module.exports = ExampleController = function() {
    return Controller.extend(
    /** Static **/
    {
      // Controller allows you to define middleware in the Static section of your controller,
      // as this is Static and not an instance, req, res and next are passed in as arguments
      someMiddleware: function( req, res, next ) {
          res.send({
              message: 'Hi from middleware!'
          });
      }
    },
    /** Prototype **/
    {
        // Restful action for POST '/example'
        postAction: function() {
            this.send({
                status: 'Created record!',
                youPosted: this.req.body
            });
        },

        // Restful action for GET '/example' when no id is specified
        listAction: function() {
            this.send({
                status: 'Sending you the list of examples.',
                query: this.req.query
            });
        },

        // Restful action for GET '/example/1' where 1 is the id of the example you want to get
        getAction: function() {
            this.send({
                status: 'sending you record with id of ' + this.req.params.id
            });
        },

        // Restful action for PUT '/example/1' where 1 is the id of the example your updating
        putAction: function() {
            this.send({
                status: 'updated record with id ' + this.req.params.id,
                youPosted: this.req.body
            });
        },

        // Restful action for DELETE '/example/1' where 1 is the id of the example you want to delete
        deleteAction: function() {
            this.send({
                status: 'deleted record with id ' + this.req.params.id
            });
        },

        // Action that returns JSON, available from route '/example/hello'
        helloAction: function() {
            this.send({
                message: 'Hi there'
            })
        }
    });
};
{% endhighlight %}<br>

      <!-- Models
      ================================================== -->
      <h4 id="backend-modules-models">Models</h4>
      <p>Models are stored in either the models/orm or models/odm folder depending on what type of model they are, and apart from a function to wrap the definition to take advantage of our DI they are exactly the same as you would define them using either <a href="https://github.com/sequelize/sequelize">SequelizeJS</a> (ORM) or <a href="http://mongoosejs.com/">MongooseJS</a> (ODM).</p>
{% highlight javascript %}
// models/orm/ExampleModel.js
module.exports = function( sequelize, DataTypes ) {
    return sequelize.define("Example", {
        id: {
            type: DataTypes.INTEGER,
            primaryKey: true,
            autoIncrement: true
        },
        name: {
            type: DataTypes.STRING,
            allowNull: false,
            unique: true
        }
    });
};

// models/odm/ExampleModel.js
module.exports = function( mongoose ) {
    var ModelSchema = new mongoose.Schema({
        name: String
    });
 
    return mongoose.model('ExampleModel', ModelSchema);
};
{% endhighlight %}<br>

      <p><strong>Hint:</strong> Use the grunt db:rebase command to create your database structure</p>
      {% highlight javascript %}$ grunt db:rebase {% endhighlight %}

      <p><strong>Hint:</strong> Use the grunt db:seed command to insert your seed data into the database</p>
      {% highlight javascript %}$ grunt db:seed {% endhighlight %}

      <p><strong>Hint:</strong> Both of the above db commands can be run together using one command</p>
      {% highlight javascript %}$ grunt db {% endhighlight %}

      <br>

      <p><strong>Important:</strong> You should not load models using require(), they must be loaded using the injector</p>
      <p><strong>Note:</strong> Use the SequelizeJS migrations tool to create or run ORM Migrations.</p>
      <br>

      <!-- Services
      ================================================== -->
      <h4 id="backend-modules-services">Services</h4>
      <p>CleverStack's Architecture has been designed to use a Service Layer, we do this so that your Controllers use Services allowing you to swap out the model that is being used behind the service without having to change your Controller code.</p>

      <p>This is also important to being able to test effectively, unit tests are carried out by using the Service directly and integration (e2e) tests are carried out by using HTTP Requests to your controller. This gives you the ability to test at different levels and make finding bugs or errors easier.</p>

      <p>A Service should take advantage of our Dependency Injection and load whatever Model is used to actually store the data, by defining the Model in the Static of the Service Class you are able to enable the Controller to automatically give you CRUD.</p>
{% highlight javascript %}
var Q = require('q')
  , BaseService = require( 'services' ).BaseService
  , ExampleService;
 
ExampleService = BaseService.extend({
 
});
 
module.exports = function( sequelize, ORMExampleModel ) {
    if ( !ExampleService.instance ) {
        ExampleService.instance = new ExampleService( sequelize );
        ExampleService.Model = ORMExampleModel;
    }
    
    return ExampleService.instance;
};

{% endhighlight %}<br>

      <!-- Testing
      ================================================== -->
      <h4 id="backend-modules-testing">Testing</h4>
      <p>Modules contain their testing resources, here are the two types you can use</p><br>

      <h5>Unit Tests</h5>
      <p>To get the application setup you will need this code in your file to get things going</p>
      {% highlight javascript %}var testEnv = require ( 'utils' ).testEnv();{% endhighlight %}<br>

      <p>Here is an in-depth example of how to write a unit test</p>
{% highlight javascript %}
// Bootstrap the testing environmen
var testEnv = require( 'utils' ).testEnv();
 
var expect = require( 'chai' ).expect
  , Service;
 
describe( 'controllers.ExampleController', function() {
    var ctrl;
 
    beforeEach( function( done ) {
        testEnv( function( ExampleController, ExampleService ) {
            var req = {
                params: { action: 'fakeAction' },
                method: 'GET',
                query: {}
            };
            var res = {
                json: function() {}
            };
            var next = function() {};
            ctrl = new ExampleController( req, res, next );
 
            Service = ExampleService;
            Service.create({
                name: 'Example 1'
            })
            .then( function( examples ) {
                done();
            })
            .fail( done );
        });
    });

    describe( '.getAction()', function() {
        it( 'should call .send() with valid status', function( done ) {
            ctrl.req.params.id = 1;
            ctrl.send = function( data ) {
                data.id.should.equal( 1 );
                data.name.should.equal( 'Example 1' );
                done();
            };
            ctrl.getAction();
        });
    });
});
{% endhighlight %}<br>

      <h5>Integration / e2e Tests</h5>

      <p>There is no required code, all you need to do is use request to make http requests to your controllers. Here is an example</p>
{% highlight javascript %}
var expect = require ( 'chai' ).expect
  , request = require ( 'supertest' )
  , path = require( 'path' )
  , app = require ( path.resolve( __dirname + '/../../../../' ) + '/index.js' );

describe( '/example', function() {
    describe( 'GET /example/custom', function() {
        it( 'should return valid status', function( done ) {
            request( app )
                .get( '/example/custom' )
                .expect( 'Content-Type', /json/ )
                .expect( 200 )
                .end( function( err, res ) {
                    if ( err ) return done( err );
                    expect( res.body ).to.eql ( {
                        message: 'Hello from customAction inside ExampleController'
                    });
                    done();
                });
        });
    });
});
{% endhighlight %}
    </div><br>

    <!-- Troubleshooting
    ================================================== -->
    <h3 id="backend-troubleshooting">Troubleshooting</h3>
    <p>If you have any problems (including errors, exceptions and even general usage) with the NodeJS Backend which is called the Node Seed.</p>
    <ul>
      <li>Because we use the <a href="https://www.npmjs.org/package/debug">debug</a> npm module, set an environment variable called DEBUG.</li>
{% highlight bash %}
// There are more, if you want to debug a file look for its debug definition and add it in here
$ export DEBUG=moduleLoader,ModuleClass,ORM

// Run the server
$ clever serve
Running "nodemon:web" (nodemon) task
[nodemon] v1.0.20
[nodemon] to restart at any time, enter `rs`
[nodemon] watching: *.*
[nodemon] starting `node app.js`
  moduleLoader Loading modules... +0ms
  moduleLoader Loading the clever-orm module +4ms
  MagicModule Creating magic module for classes +0ms
  MagicModule Loading ModuleClass into classes magic module... +1ms
  ORM Opening connection to database +0ms
  moduleLoader Loading the backend-example-module module +271ms
  ORM Loading model ExampleModel from backend-example-module/models/orm/ExampleModel.js +25ms
  MagicModule Creating magic module for services +306ms
  MagicModule Loading BaseService into services magic module... +1ms
  MagicModule Loading Controller into classes magic module... +14ms
  moduleLoader modulesLoaded (hook) for module clever-orm +68ms
  ORM Defining model assocations +58ms
  moduleLoader Initializing the clever-orm modules routes. +116ms
  moduleLoader Initializing the backend-example-module modules routes. +0ms
Starting server on port 8080 in LOCAL mode
{% endhighlight %}

      <li>Check the Github <a href="https://github.com/CleverStack/Node-Seed/issues">issues page</a>.</li>
      <li>Log into the public access <a href="https://www.hipchat.com/gwM43u4Mw">HipChat Room</a> and ask for help.</li>
      <li>If your still having problems, please <a href="https://github.com/CleverStack/Node-Seed/issues/new">raise an issue</a>.</li>
    </ul>

    <!-- Contributing
    ================================================== -->
    <h3 id="backend-contributing">Contributing</h3>
    <p>Firstly please read our <a href="https://github.com/CleverStack/Node-Seed/blob/master/CONTRIBUTING.md">guidelines for contributing</a>, Then fork the <a href="https://github.com/CleverStack/Node-Seed">CleverStack Node Seed</a> github repo, once you are ready please submit a "Pull Request" for review.</p>
  </div>


  <!-- Front-end (AngularJS)
  ================================================== -->
  <div class="bs-docs-section">
    <div class="page-header">
      <h1 id="frontend">Front-end (AngularJS)</h1>
    </div>

    <!-- Overview
    ================================================== -->
    <p id="frontend-overview" class="lead">CleverStack provides a fully featured AngularJS development workflow.</p>
    <p>Some highlights:</p>
    <ul>
      <li>AngularJS Application Core Integrated with RequireJS</li>
      <li>Grunt Server with Live Reload, Bootstrap 3, LESS</li>
      <li>JavaScript Dependency Loading with Bower</li>
      <li>Modular NPM Based Coding Structure</li>
      <li>Unit Testing with Karma &amp; Code Coverage Reports</li>
      <li>E2E Testing with Angular Protractor and Grunt</li>
      <li>Optimized Production Build Process</li>
    </ul>

    <!-- Structure
    ================================================== -->
    <h3 id="frontend-structure">Structure</h3>

{% highlight bash %}
front-end/
├── app/              # angular app specific source files
│   └── modules/      # cleverstack front-end modules
├── scripts/          # app scripts and binaries
├── tests/            # app tests, both unit &amp; integration
├── Gruntfile.js      # app grunt file for modifying configuration and adding tasks
├── bower.json        # app js dependencies
└── package.json      # app npm dependencies
{% endhighlight %}<br>

    <!-- Important files and folders
    ================================================== -->
    <div style="padding-left: 20px;">
      <h4>Important files and folders</h4>
      <p>Here is a list of things you need to know about the structure of the CleverStack AngularJS Frontend</p><br>

      <h5>app/</h5>
      <ul>
        <li>This folder contains the core of the Cleverstack Angular Seed.</li>
      </ul>

      <h5>app/modules/</h5>
      <ul>
        <li>This is where all of the Cleverstack modules will be installed into your application by our CLI.</li>
        <li>NPM Modules that have been made to work with Cleverstack will also be placed here.</li>
        <li>You also add custom modules inside this folder, either by creating it manually (See https://github.com/CleverStack/frontend-example-module for an example of how to create your own modules) or using the CleverStack CLI's install, generate or scaffold commands.</li>
      </ul>

      <h5>scripts/</h5>
      <ul>
        <li>This is where you can store your front-end scripts and binaries such as executables, JAR files or such. Examples of these might be browserstack-tunnel.sh, selenum-server.jar, chromedriver.exe, phantomjs.exe etc...</li>
        <li>Scripts can be defined in package.json and then run with `npm run-script [name]`.</li>
      </ul>

      <h5>Gruntfile.js</h5>
      <ul>
        <li>Defines the Applications global (main) gruntConfig.</li>
        <li>Registers the Applications included Grunt tasks.</li>
        <li><strong>Note:</strong> Each module's Gruntfile.js config is deep merged into this files main grunt config before registering any tasks with grunt.</li>
      </ul>

      <h5>bower.json</h5>
      <ul>
        <li>Stores the apps main bower dependencies install during setup with the CLI.</li>
      </ul>

      <h5>package.json</h5>
      <ul>
        <li>Defines the Application information, scripts and it's NPM dependencies like any normal NPM Module.</li>
        <li>Defines the modules that are enabled, using the <a href="https://www.npmjs.org/doc/json.html">bundledDependencies[]</a> array. (This also let's NPM know that these dependencies are local and not on the NPM Registry)</li>
      </ul>
    </div>

    <!-- Configuration
    ================================================== -->
    <h3 id="frontend-configuration">Configuration</h3>
    <p>Coming soon, we are working hard on this section.</p><br>


    <!-- Modules
    ================================================== -->
    <h3 id="frontend-modules">Modules</h3>
    <p>These are the most important part of your application, where all your functionality and testing is defined.</p><br>

    <div style="padding-left: 20px;">

      <!-- Modules structure
      ================================================== -->
      <h4 id="frontend-modules-structure">Structure</h4>
            <p>This is a typical front-end (angular) module structure.</p>
{% highlight bash %}
example-module/
├── scripts/                          # module angular scripts
│   ├── controllers/
│   ├── directives/
│   ├── services/
│   └── resources/
├── styles/                           # module styles (optional)
├── img/                              # module images (optional)
├── fonts/                            # module fonts (optional)
├── views/                            # module ngTemplates
├── tests/                            # module tests
│   ├── unit/
│   └── e2e/
├── main.js                           # module requirejs scripts
├── module.js                         # angular main module
├── bower.json                        # module js dependencies
├── Gruntfile.js                      # module grunt tasks
└── package.json                      # module npm dependencies
{% endhighlight %}<br>

      <div style="padding-left: 30px;">
        <h4>Important files and folders</h5>

        <h5>scripts/</h5>
        <ul>
            <li>This folder contains all the scripts required for the module. ie - all the modules angular controllers, directives, services and resources.</li>
        </ul>

        <h5>views/</h5>
        <ul>
            <li>This allows each module to define it's own views for the ngtemplates provided within each module.</li>
        </ul>

        <h5>tests/</h5>
        <ul>
            <li>Two folders for testing, unit/ and e2e/</li>
            <li>This allows each module to define it's own tests for the functionality (code) that is provided within each module.</li>
        </ul>

        <h5>main.js</h5>
        <ul>
            <li>This is the requirejs main file, use it to specify all the javascript files you need for your module..</li>
        </ul>

        <h5>module.js</h5>
        <ul>
            <li>Instantiates and configures angular modules for your module.</li>
        </ul>

        <h5>bower.json</h5>
        <ul>
            <li>Defines the modules JavaScript dependencies.</li>
        </ul>

        <h5>package.json</h5>
        <ul>
            <li>Defines the Application and it's information, scripts and NPM dependencies just like every other NPM Module.</li><br>
            <li><strong>Important:</strong> This is where you define which Modules are enabled, using the <a href="https://www.npmjs.org/doc/json.html">bundledDependencies[]</a> array.</li>
            <li><strong>Note:</strong> By adding modules into the <a href="https://www.npmjs.org/doc/json.html">bundledDependencies[]</a> array, you are also letting NPM know that these dependencies are local and not on the NPM Registry, meaning NPM will never search or download those modules from the internet.</li>
            <li><strong>Note:</strong> The order in which you place modules inside your <a href="https://www.npmjs.org/doc/json.html">bundledDependencies[]</a> array will be the loading order of the modules.</li>
        </ul>

        <h5>Gruntfile.js</h5>
        <ul>
            <li>Defines the Applications global (main) gruntConfig.</li>
            <li>Registers the Applications included Grunt tasks.</li><br>
            <li><strong>Note:</strong> Each module's Gruntfile.js config is deep merged into this files main grunt config before registering any tasks with grunt, which gives you the power to both add grunt tasks and modify the gruntConfig inside each module.</li>
        </ul>
      </div><br>

      <!-- <h4>Creating Modules</h4>
      <p></p><br>

      <h4>Publishing Modules</h4>
      <p></p><br> -->
    </div>

    <!-- Usage
    ================================================== -->
    <h3 id="frontend-usage">Usage</h3>
    <p>Coming soon, we are working hard on this section.</p><br>

    <!-- Testing
    ================================================== -->
    <h3 id="frontend-testing">Testing</h3>
    <p>Coming soon, we are working hard on this section.</p><br>

    <!-- Troubleshooting
    ================================================== -->
    <h3 id="frontend-troubleshooting">Troubleshooting</h3>
    <p>If you have any problems (including errors, exceptions and even general usage) with the AngularJS Frontend which is called the Angular Seed.</p>
    <ul>
      <li>Check the Github <a href="https://github.com/CleverStack/Angular-Seed/issues">issues page</a>.</li>
      <li>Log into the public access <a href="https://www.hipchat.com/gwM43u4Mw">HipChat Room</a> and ask for help.</li>
      <li>If your still having problems, please <a href="https://github.com/CleverStack/Angular-Seed/issues/new">raise an issue</a>.</li>
    </ul>

    <!-- Contributing
    ================================================== -->
    <h3 id="frontend-contributing">Contributing</h3>
    <p>Firstly please read our <a href="https://github.com/CleverStack/Angular-Seed/blob/master/CONTRIBUTING.md">guidelines for contributing</a>, Then fork the <a href="https://github.com/CleverStack/Angular-Seed">CleverStack Node Seed</a> github repo, once you are ready please submit a "Pull Request" for review.</p>


  </div>

  <!-- Testing
  ================================================== -->
  <div class="bs-docs-section">
    <div class="page-header">
      <h1 id="testing">Testing</h1>
    </div>
    <p class="lead">At Clevertech we believe in testing our code as we develop, then if something breaks we know exactly where to start looking. Spending more time on developing the features we love.</p>

    <h3 id="testing-unit">Running Unit Tests</h3>
    <p>To run the unit tests for your app and modules, from the front-end/back-end root directory run:</p>
    {% highlight bash %}$ clever test unit{% endhighlight %}
    <p>Or simply use the alias:</p>
    {% highlight bash %}$ clever test{% endhighlight %}

    <h3 id="testing-e2e">Running E2E Tests</h3>
    <p>To setup your environment for e2e testing with Protractor run the following command. This will install Selenium Server (WebDriver), ChromeDriver & PhantomJS based on your OS. If you wish to run selenium server in a separate terminal then use Webdriver Manager (see below).</p>
{% highlight bash %}
$ cd Frontend
$ npm run-script setup-protractor
{% endhighlight %}

    <h3>Using Webdriver Manager</h3>
    <p>Webdriver Manager comes shipped with protractor and installs selenium server & chrome driver for you. Selenium server can then run in a separate terminal so when you run your e2e tests it doesn't need to boot up (saving heaps of time when running your e2e tests!). To set this up do the following:</p>
{% highlight bash %}
npm install -g protractor
webdriver-manager update
webdriver-manager start
{% endhighlight %}

    <p>Your selenium server should be running in this terminal.</p>
    <p>Finally update your e2e test config file located: my-app/Frontend/test-e2e.conf.js</p>
{% highlight bash %}
// uncomment this line:
seleniumAddress: 'http://localhost:4444/wd/hub',

// comment these lines:
seleniumServerJar: ''
seleniumPort: ''
chromeDriver: ''
{% endhighlight %}

    <p>To run the end-to-end tests for your app and modules, from the front-end/back-end root directory run:</p>
    {% highlight bash %}$ clever test e2e{% endhighlight %}

    <h3 id="testing-coverage">Code Coverage Reports</h3>
    <p>To generate a code coverage report for your unit tests, from the front-end directory run:</p>
    {% highlight bash %}$ clever test coverage{% endhighlight %}
    <p>Your browser should open the following URL:</p>
    {% highlight bash %}$ http://localhost:5555{% endhighlight %}
    <p>Then select your report from the list.</p>

  </div>

  <!-- Deployment
  ================================================== -->
  <div class="bs-docs-section">
    <div class="page-header">
      <h1 id="deployment">Deployment</h1>
    </div>
    <p class="lead">At Clevertech we build lots of MVP's so we like our deployment to be as efficient as possible. We are going to implement some of these strategies for CleverStack.</p>

    <h3 id="deployment-build">Production Builds</h3>
    <p>To build a production version of your front-end app, from your front-end root directory run:</p>
    {% highlight bash %}$ clever build{% endhighlight %}
    <p>This will build your app, minifying your assets etc and puts everything into the /dist folder ready for deployment.</p>
    <p>Note: You can view a production version of your app on port 9009.</p>

    <h3 id="deployment-strategies">Deployment Strategies</h3>
    <p>Stay Tuned!! NodeJS deployment strategies coming soon. AWS, Heroku and more.</p>
  </div>

  <!-- Troubleshooting
  ================================================== -->
  <div class="bs-docs-section">
    <div class="page-header">
      <h1 id="troubleshooting">Troubleshooting</h1>
    </div>
    <h4><a href="#cli-troubleshooting">Troubleshooting CleverStack CLI.</a></h4>
    <h4><a href="#backend-troubleshooting">Troubleshooting Backend (NodeJS).</a></h4>
    <h4><a href="#frontend-troubleshooting">Troubleshooting Frontend (AngularJS).</a></h4><br>

    <p class="lead">We will document any "gotchas" here along with any important open GitHub issues. Please <a href="https://github.com/CleverStack/cleverstack/issues">open an issue</a> if you see a bug.</p></p>
    <ul>
      <li>EMFILE error on Mac: By default some macs have a ulimit of 256 which limits the number of open files each process can have, when using "clever init my-app" you will need to raise your ulimit by running "ulimit -n 1024" in your console. You will need to run that in your console before running the init command unless you define that setting globally in your mac.</li>
    </ul>
  </div>

  <!-- FAQ
  ================================================== -->
<!--   <div class="bs-docs-section">
    <div class="page-header">
      <h1 id="faq">FAQ</h1>
    </div>
    <p class="lead">Answers to some frequently asked questions about CleverStack. Please <a href="https://github.com/CleverStack/cleverstack/issues">open an issue</a> if you are requesting a new feature.</p>

    <p>We will add important FAQ here.</p>
 -->
